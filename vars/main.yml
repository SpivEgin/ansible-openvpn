---
# vars file for netzwirt.openvpn
# there's no need to change this values 
#Â this is just a mapping between pki <> openvpn vars

openvpn_user: openvpn
openvpn_group: openvpn

openvpn_configdir: /etc/openvpn
openvpn_logdir: /var/log
openvpn_logfile: "{{openvpn_logdir}}/openvpn.log"

# map openvpn vars to pki ------------------------

simplepki_base_dir: "{{openvpn_configdir|trim}}/pki"
simplepki_key_size: "{{openvpn_key_size|trim}}"

# base path for the pki
simplepki_base_dir: "{{openvpn_configdir}}/pki"
simplepki_key_size: "{{openvpn_key_size}}"

simplepki_domainComponent_tld: "{{openvpn_domainComponent_tld}}"
simplepki_domainComponent_domain: "{{openvpn_domainComponent_domain}}"
simplepki_organizationName: "{{openvpn_organizationName}}"

simplepki_user_certs: "{{openvpn_users}}"
simplepki_revocation_list: "{{openvpn_revocation_list}}"

# create a server cert
simplepki_server_certs: [{ fqdn: "{{openvpn_fqdn}}" }]

# map pki vars to openvpn -------------------------

openvpn_keydir: "{{openvpn_configdir|trim}}/keys"
openvpn_clientconfig_dir: "{{openvpn_configdir|trim}}/clients"

# x509 stuff for the server
openvpn_ca_cert: "{{simplepki_ca_base_dir|trim}}/{{simplepki_chained_ca_name|trim}}{{simplepki_file_ext_crt}}"
openvpn_server_cert: "{{simplepki_certs_dir|trim}}/{{openvpn_fqdn|trim}}{{simplepki_file_ext_crt}}"
openvpn_server_key: "{{simplepki_certs_dir|trim}}/{{openvpn_fqdn|trim}}{{simplepki_file_ext_key}}"
openvpn_ca_crl_list: "{{simplepki_crls_dir|trim}}/{{simplepki_signing_ca_name|trim}}.crl"
openvpn_tls_auth_key: "{{openvpn_keydir|trim}}/ta{{openvpn_key_size}}.key"